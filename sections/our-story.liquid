<style>
     .section-{{ section.id }}-margin {
      margin-bottom: {{ section.settings.margin_bottom_desktop }}px;
    }
    .our_story_video img{width:100%;height:auto;}
    .our_story_video{display:flex;justify-content:center;position:relative;}
    .our_story_video .video_div{width:750px;height:auto;}
    .our_story .our_story_text {text-underline-offset: 0.6rem;}
    .our_story .play-button-dropdown{position:absolute;top:40%;cursor: pointer;}
    .our_story_heading{color:#fff;text-align:center;font-style:normal;font-weight:500;line-height:28px;letter-spacing:0.3px;padding:25px 0 11px;}
    .our_story{position:relative;margin-bottom:17vw;}
    .our_story_text_div{background-color:#dd5041;height:400px;text-align:center;padding-bottom:20px;}
    .our_story_text{font-family: 'Rubik-Regular';font-size: 20px;font-weight: 400;line-height: 28px;letter-spacing: 0.01em;text-align: center;margin:0 auto;padding-bottom:10px;width:41%;color:#fff; }
    .our_story_absolute_div{transform: translate(-50%,-50%);position: absolute;top: 105%;left: 50%;}
  @media screen and (min-width: 2200px){
.our_story_absolute_div{top:135%;}
    .our_story{    margin-bottom: 22vw;}
  }
  @media screen and (min-width: 1300px) and (max-width:1400px){
  .our_story_absolute_div{top:100%;}
  }

    @media screen and (max-width: 1150px){
    .our_story_text{ width:70%;}
    }
  @media screen and (min-width: 751px) and (max-width: 820px) {

  .our_story_absolute_div{top:80%;}
    .our_story{margin-bottom:90px;}
  }
    @media screen and (max-width: 750px) {
      .section-{{ section.id }}-margin {
        margin-bottom: {{ section.settings.margin_bottom_mobile }}px;
      }
      .our_story_text_div{height:268px;}
      .our_story_text{font-size:19px;line-height:24px;width:81%;}
      a.our_story_text{font-size:14px;}
      .our_story_absolute_div{width:100%;padding:0 20px;}
      .our_story_video .video_div{width:100%;}
      .our_story_text_div{ height:38vh;}
      .our_story_heading{padding:19px 0 9px;font-size:23px;}
      .our_story_absolute_div{width:100%;}
      .our_story_absolute_div{top:100%:}
      .our_story{margin-bottom:32%;}
    }
    @media screen and (max-width: 600px) {
    .our_story_text_div{ height:300px; }
    }
   @media screen and (max-width: 320px) {
    .our_story_absolute_div{top:90%;}
     .our_story {
    margin-bottom: 20%;
}
    }
</style>

<section class="our_story_section section-{{ section.id }}-margin">
  <div class="our_story">
    <div class="our_story_text_div">
      <h2 class="our_story_heading">{{ section.settings.our_story_heading }}</h2>
      <p class="our_story_text">{{ section.settings.our_story_text }}</p>
      <a class="our_story_text" href="{{ section.settings.linkurl }}">{{ section.settings.linktext }}</a>
    </div>
    <div class="our_story_absolute_div">
      {% if section.settings.our_story_video != blank %}
        <div class="our_story_video">
          {% for source in section.settings.our_story_video.sources %}
            {% if source.url contains 'mp4' %}
              <video
                class="video_div"
                type="video/mp4"
                src="{{ source.url }}"
                class="our_story_video"
                controlsList="nodownload"
                muted="muted"
                loop="loop"
                playsinline="playsinline"
                preload="metadata"
                data-aos="fade-up"
              ></video>
            {% endif %}
          {% endfor %}

          <svg
            class="play-button-dropdown"
            xmlns="http://www.w3.org/2000/svg"
            width="61"
            height="61"
            viewBox="0 0 61 61"
            fill="none"
          >
            <path d="M30.5 0C13.6795 0 0 13.6795 0 30.5C0 47.3205 13.6795 61 30.5 61C47.3205 61 61 47.3205 61 30.5C61 13.6795 47.3205 0 30.5 0ZM30.5 4.06667C45.1227 4.06667 56.9333 15.8773 56.9333 30.5C56.9333 45.1226 45.1227 56.9333 30.5 56.9333C15.8773 56.9333 4.06667 45.1226 4.06667 30.5C4.06667 15.8773 15.8773 4.06667 30.5 4.06667ZM23.2986 17.6222C21.7317 17.6575 20.3734 18.916 20.3333 20.7146V40.2642C20.3869 42.6623 22.7814 44.117 24.8872 42.9753L41.8316 33.1688C42.7538 32.6331 43.3778 31.65 43.3778 30.5C43.3778 29.35 42.7538 28.3668 41.8316 27.8312L24.8872 18.0247C24.3607 17.7392 23.8209 17.6105 23.2986 17.6222Z" fill="white"></path>
          </svg>
        </div>
      {% endif %}
      {% if section.settings['video-image'] != blank %}
        <div class="our_story_video">
          {{ section.settings['video-image'] | image_url: width: 800 | image_tag: loading: 'lazy' }}
        </div>
      {% endif %}
    </div>
  </div>
</section>

<script>
  let homeDropDownVideo = document.querySelector('.our_story video');
  let homeDropDownPlayButton = document.querySelector('.our_story .play-button-dropdown');
  function togglePlayVideo(video, playButton) {
    if (video.paused) {
      video.play();
      playButton.style.display = 'none';
    } else {
      video.pause();
      playButton.style.display = 'block';
    }
  }
  homeDropDownPlayButton?.addEventListener('click', function () {
    togglePlayVideo(homeDropDownVideo, homeDropDownPlayButton);
  });
  homeDropDownVideo?.addEventListener('click', function () {
    togglePlayVideo(homeDropDownVideo, homeDropDownPlayButton);
  });
</script>

{% schema %}
{
  "name": "Our Story",
  "settings": [
    {
      "type": "range",
      "id": "margin_bottom_desktop",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Bottom Desktop",
      "default": 36
    },
    {
      "type": "range",
      "id": "margin_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Margin Bottom Mobile",
      "default": 36
    },
    {
      "type": "text",
      "id": "our_story_heading",
      "label": "Our Story Heading",
      "default": "Out Story"
    },
    {
      "type": "text",
      "id": "our_story_text",
      "label": "Our Story Text",
      "default": "Skilled craftspeople and fine materials are the essential components for making a quality pair of shoes"
    },
     {
      "type": "text",
      "id": "linktext",
      "label": "Link Text",
      "default": "Read More"
    },
    {
      "type": "url",
      "id": "linkurl",
      "label": "Link Url"
    },
    {
      "type": "video",
      "id": "our_story_video",
      "label": "Our Story Video"
    },
      {
      "type": "image_picker",
      "id": "video-image",
      "label": "Our Story Image"
    }
  ],

  "presets": [
    {
      "name": "Our Story"
    }
  ]
}
{% endschema %}
